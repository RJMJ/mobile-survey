template(name="list_flank")
  ul.results--list.list-unstyled.list-flank(class=location)
    each collections
      +list_flank_sub_list(
        collection=collection
        settings=settings
        selectMultiple=../selectMultiple
        selected=../selected)

template(name="list_flank_sub_list")
  if collection.count
    .results--list-header
      h5=settings.name
      if settings.selectAll
        a.select-all
          if allItemsSelected
            | Deselect All
          else
            | Select All
    each collection
      +list_flank_item(
        item=this
        settings=../settings
        selectMultiple=../selectMultiple
        selected=../selected)

template(name="list_flank_item")
  li.list-flank--item(
    class="{{#if selected}} selected {{/if}} {{#if selectable}} selectable {{/if}} {{#if selectMultiple}} select-multiple {{/if}} ")=title
